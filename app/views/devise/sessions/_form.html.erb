<div class="w3-container">
  <div id="id01" class="w3-modal">
   <div class="w3-modal-content w3-card-4 w3-animate-zoom">
    <header class="w3-container w3-blue"> 
     <span onclick="document.getElementById('id01').style.display='none'" 
     class="w3-button w3-blue w3-xlarge w3-display-topright">&times;</span>
     <h2>Header</h2>
    </header>
    <div class="w3-bar w3-border-bottom">
     <button class="tablink w3-bar-item w3-button" onclick="openCity(event, 'London')">Log_in</button>
     <button class="tablink w3-bar-item w3-button" onclick="openCity(event, 'Paris')">Paris</button>
     <button class="tablink w3-bar-item w3-button" onclick="openCity(event, 'Tokyo')">Sign_up</button>
    </div>
    <div id="London" class="login w3-container city">
      <h2 style="text-align: center;">Log_in</h2>
      <div class="FlashNotice">
      <% flash.each do |key, value| %>
	      <div class="<%= flash_class(key) %> fade in">	        
	        <%= value %>
	      </div>
      <% end %>
    </div>
      <%= form_for(resource, as: resource_name,remote: true, url: session_path(resource_name)) do |f| %>
        <div class="w3-container" action="/action_page.php">
          <div class="w3-section">
            <label><b>Enter Your Email</b></label>
            <%= f.email_field :email, autofocus: true, autocomplete: "email", placeholder: "Enter your Email",type: "text", class: "w3-input w3-border w3-margin-bottom",:required => true%>        
            <label><b>Password</b></label>            
            <%= f.password_field :password, autocomplete: "current-password", type: "password", placeholder: "Enter Password", class: "w3-input w3-border",:required => true %>
            <%= f.submit "Log in" , class: "w3-button w3-block w3-green w3-section w3-padding"%>

            <% if devise_mapping.rememberable? %>
              <div type="checkbox" checked="checked" >
                <%= f.check_box :remember_me %>
                <%= f.label :remember_me %>
              </div>
            <% end %> 
          </div>
        </div>
      <% end %>
      <div class="w3-container w3-light-grey w3-padding">
       <button onclick="document.getElementById('id01').style.display='none'" type="button" class="w3-button w3-red">Cancel</button>
       <%#= link_to "Forgot your password?", new_password_path(resource_name),class: "w3-right w3-padding w3-hide-small" %>
       <button class="w3-right w3-padding w3-bar-item w3-button" onclick="openCity(event, 'Paris')">Forget password</button>
      </div>
      </div>
      <div id="Paris" class="w3-container city">     
      <%= render :partial =>  "devise/passwords/form", user: @user %>
      </div>
      <div id="Tokyo" class="w3-container city">   
        <%= render :partial =>  "devise/registrations/form", user: @user %>
      </div>
    </div>
  </div>
</div>


<script>
	document.getElementsByClassName("tablink")[0].click();

	function openCity(evt, cityName) {
	  var i, x, tablinks;
	  x = document.getElementsByClassName("city");
	  for (i = 0; i < x.length; i++) {
	    x[i].style.display = "none";
	  }
	  tablinks = document.getElementsByClassName("tablink");
	  for (i = 0; i < x.length; i++) {
	    tablinks[i].classList.remove("w3-light-grey");
	  }
	  document.getElementById(cityName).style.display = "block";
	  evt.currentTarget.classList.add("w3-light-grey");
	}
</script>
